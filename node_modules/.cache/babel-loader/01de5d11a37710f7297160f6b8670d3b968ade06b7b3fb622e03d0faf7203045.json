{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-workspace\\\\layout\\\\src\\\\api\\\\api.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { getTokenInfo } from \"../hooks/tokenSlice\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_HOST,\n  timeout: 10000\n});\nexport default instance;\nconst Test = () => {\n  _s();\n  const getData = () => {\n    instance.get(\"/cmmn/findAll\").then(res => console.log(res));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"test\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 10\n  }, this);\n};\n// request 날리기 전에 axios가 할 일\n_s(Test, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Test;\n_s2(instance.interceptors.request.use(_s2(config => {\n  _s2();\n  const token = useSelector(getTokenInfo);\n  config.headers = {\n    Authorization: `${token.tokenType}${token.acessToken}`,\n    \"Content-Type\": \"application/json\"\n  };\n  return config;\n}, \"bD5+gKbiITcJRDYAIJK4ZSEgato=\", false, function () {\n  return [useSelector];\n}), error => {\n  console.log(\"intercept에서 오류 발생\", error);\n  return Promise.reject(error);\n}), \"bD5+gKbiITcJRDYAIJK4ZSEgato=\", false, function () {\n  return [useSelector];\n});\n\n// response 받고 나서 axios가 할 일\ninstance.interceptors.response.use(response => response, async error => {\n  // 오류가 발생하면 뭔가 해라\n  return Promise.reject(error);\n});\nvar _c;\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"names":["axios","useSelector","getTokenInfo","useEffect","jsxDEV","_jsxDEV","instance","create","baseURL","process","env","REACT_APP_HOST","timeout","Test","_s","getData","get","then","res","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s2","interceptors","request","use","config","token","headers","Authorization","tokenType","acessToken","error","Promise","reject","response","$RefreshReg$"],"sources":["C:/react-workspace/layout/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getTokenInfo } from \"../hooks/tokenSlice\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_HOST,\r\n  timeout: 10000,\r\n});\r\n\r\nexport default instance;\r\n\r\nconst Test = () => {\r\n  const getData = () => {\r\n    instance.get(\"/cmmn/findAll\").then((res) => console.log(res));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  return <div>test</div>;\r\n};\r\n// request 날리기 전에 axios가 할 일\r\ninstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = useSelector(getTokenInfo);\r\n    config.headers = {\r\n      Authorization: `${token.tokenType}${token.acessToken}`,\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.log(\"intercept에서 오류 발생\", error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// response 받고 나서 axios가 할 일\r\ninstance.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    // 오류가 발생하면 뭔가 해라\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,QAAQ,GAAGN,KAAK,CAACO,MAAM,CAAC;EAC5BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,cAAc;EACnCC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,eAAeN,QAAQ;AAEvB,MAAMO,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAMC,OAAO,GAAGA,CAAA,KAAM;IACpBT,QAAQ,CAACU,GAAG,CAAC,eAAe,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EAC/D,CAAC;EAEDf,SAAS,CAAC,MAAM;IACdY,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOV,OAAA;IAAAgB,QAAA,EAAK;EAAI;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AACxB,CAAC;AACD;AAAAX,EAAA,CAXMD,IAAI;AAAAa,EAAA,GAAJb,IAAI;AAYVc,GAAA,CAAArB,QAAQ,CAACsB,YAAY,CAACC,OAAO,CAACC,GAAG,CAAAH,GAAA,CAC9BI,MAAM,IAAK;EAAAJ,GAAA;EACV,MAAMK,KAAK,GAAG/B,WAAW,CAACC,YAAY,CAAC;EACvC6B,MAAM,CAACE,OAAO,GAAG;IACfC,aAAa,EAAE,GAAGF,KAAK,CAACG,SAAS,GAAGH,KAAK,CAACI,UAAU,EAAE;IACtD,cAAc,EAAE;EAClB,CAAC;EACD,OAAOL,MAAM;AACf,CAAC;EAAA,QANe9B,WAAW;AAAA,IAO1BoC,KAAK,IAAK;EACTlB,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEiB,KAAK,CAAC;EACvC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;EAAA,QAXiBpC,WAAW;AAAA;;AAa7B;AACAK,QAAQ,CAACsB,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC/BU,QAAQ,IAAKA,QAAQ,EACtB,MAAOH,KAAK,IAAK;EACf;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAAC,IAAAX,EAAA;AAAAe,YAAA,CAAAf,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}