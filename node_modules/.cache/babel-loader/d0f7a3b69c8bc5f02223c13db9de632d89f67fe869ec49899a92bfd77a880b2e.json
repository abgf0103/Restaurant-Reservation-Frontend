{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-workspace\\\\layout\\\\src\\\\components\\\\RequireAuth.js\",\n  _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport { getUserInfo } from \"../hooks/userSlice\";\nimport { useEffect } from \"react\";\nimport { Navigate, Outlet, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RequireAuth = ({\n  allowedRoles\n}) => {\n  _s();\n  var _userInfo$roles;\n  const userInfo = useSelector(getUserInfo);\n  const location = useLocation();\n  useEffect(() => {\n    console.log(userInfo);\n  }, []);\n  return userInfo !== null && userInfo !== void 0 && (_userInfo$roles = userInfo.roles) !== null && _userInfo$roles !== void 0 && _userInfo$roles.find(role => allowedRoles === null || allowedRoles === void 0 ? void 0 : allowedRoles.includes(role.id)) ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/unauth\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n_s(RequireAuth, \"20My7oUpDKNgDKniwAmO0QETRUw=\", false, function () {\n  return [useSelector, useLocation];\n});\n_c = RequireAuth;\nexport default RequireAuth;\nvar _c;\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"names":["useSelector","getUserInfo","useEffect","Navigate","Outlet","useLocation","jsxDEV","_jsxDEV","RequireAuth","allowedRoles","_s","_userInfo$roles","userInfo","location","console","log","roles","find","role","includes","id","fileName","_jsxFileName","lineNumber","columnNumber","to","state","from","replace","_c","$RefreshReg$"],"sources":["C:/react-workspace/layout/src/components/RequireAuth.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { getUserInfo } from \"../hooks/userSlice\";\r\nimport { useEffect } from \"react\";\r\nimport { Navigate, Outlet, useLocation } from \"react-router-dom\";\r\n\r\nconst RequireAuth = ({ allowedRoles }) => {\r\n  const userInfo = useSelector(getUserInfo);\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    console.log(userInfo);\r\n  }, []);\r\n  return userInfo?.roles?.find((role) => allowedRoles?.includes(role.id)) ? (\r\n    <Outlet />\r\n  ) : (\r\n    <Navigate to=\"/unauth\" state={{ from: location }} replace />\r\n  );\r\n};\r\n\r\nexport default RequireAuth;\r\n"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,EAAEC,MAAM,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjE,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,eAAA;EACxC,MAAMC,QAAQ,GAAGZ,WAAW,CAACC,WAAW,CAAC;EACzC,MAAMY,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9BH,SAAS,CAAC,MAAM;IACdY,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EACN,OAAOA,QAAQ,aAARA,QAAQ,gBAAAD,eAAA,GAARC,QAAQ,CAAEI,KAAK,cAAAL,eAAA,eAAfA,eAAA,CAAiBM,IAAI,CAAEC,IAAI,IAAKT,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEU,QAAQ,CAACD,IAAI,CAACE,EAAE,CAAC,CAAC,gBACrEb,OAAA,CAACH,MAAM;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,gBAEVjB,OAAA,CAACJ,QAAQ;IAACsB,EAAE,EAAC,SAAS;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAEd;IAAS,CAAE;IAACe,OAAO;EAAA;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAC5D;AACH,CAAC;AAACd,EAAA,CAXIF,WAAW;EAAA,QACER,WAAW,EACXK,WAAW;AAAA;AAAAwB,EAAA,GAFxBrB,WAAW;AAajB,eAAeA,WAAW;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}